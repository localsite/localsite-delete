[Data Commons](../)  

# DataUSA.io

Investigate using [D3Plus](https://d3plus.org/examples/) charts in tandom with [Datausa.io API](https://github.com/DataUSA/datausa-site) which uses [Mondrian REST](https://github.com/ojbc/mondrian-rest#api-usage).  Example: [Automotive Parts](https://datausa.io/profile/naics/automotive-parts-accessories-tire-stores-)

## DataUSA.io - Local Setup

We have not yet figured out how to hit the DataUSA API rather than local postgresql database.

Clone the [datausa-site repo](https://github.com/DataUSA/datausa-site)  

Run the following within your local datausa-site folder.  

Setup the environment:

	python3 -m venv .env

Run one of these:

OSX / Linux:

	source .env/bin/activate

Windows:

	\.env\Scripts\activate.bat

Optional, upgrade pip and postgresql

	pip install --upgrade pip
	brew upgrade postgresql

Install dependencies

	pip install -r requirements.txt

Install dependencies (generates node_modules folder)

	npm install
<!--
Avoid this:

	yarn install

Issue: package-lock.json found. Your project contains lock files generated by tools other than Yarn. It is advised not to mix package managers in order to avoid resolution inconsistencies caused by unsynchronized lock files. To clear this warning, remove package-lock.json.  
-->

Build the app - this will created the index.js file

	npm run build

Launch site

	npm start

Error:  

Database: postgresql://undefined:*********@undefined:5432/undefined  
Can't authenticate to database.  

Question: How would we hit the DataUSA API rather than a local postgresql database?  

Tried installing [datausa-api](https://github.com/DataUSA/datausa-api)  

If you install Python using brew, the relevant headers are already installed for you.
In other words, you don't need python-devel.
